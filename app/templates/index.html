{% extends 'base.html' %}
{% from 'bootstrap5/utils.html' import render_icon %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='pitch-list.css') }}">
{% endblock styles %}

{% block title %} Home {% endblock %}

{% block content %}

{% if pitches %}
<div class="mt-5">
    <ul class="list-group">
        {% for pitch in pitches %}
        <li class="list-group-item my-2">
            <div>
                <small class="fst-italic">category - {{ pitch.category }}</small>
                <small class="fst-italic float-end">{{ moment(pitch.posted_on).format('LL') }}</small>
            </div>

            <div class="my-3">
                {{ pitch.pitch_content }}
            </div>
            <div class="d-flex justify-content-between">
                <div class="float-start">
                    <a href="{{ url_for('main.add_comment', pitch_id=pitch.pitch_id, user_id=current_user.user_id) }}">
                        <button class="btn btn-sm text-light fst-italic" id="comment-btn">comments</button>
                    </a>
                </div>
                <div class="float-end">
                    <small class="fst-italic">author @{{ current_user.first_name}}</small>
                </div>
            </div>
            <div class="d-flex justify-content-evenly">
                <div>
                    <a href="">
                        <button class="btn btn-light fs-5 text-warning">{{ render_icon('hand-thumbs-up-fill') }}
                            <span class="badge bg-secondary">14</span>
                        </button>
                    </a>
                </div>
                <div>
                    <a href="">
                        <button class="btn btn-light fs-5 text-secondary">{{ render_icon('hand-thumbs-down-fill') }}
                            <span class="badge bg-secondary">4</span>
                        </button>
                    </a>
                </div>
            </div>
        </li>
        {% endfor %}
    </ul>
</div>
{% else %}
<p>No pitches. Be the first to create a pitch</p>
{% endif %}

{% endblock %}